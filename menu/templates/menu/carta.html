<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FlowBar | Carta</title>
    <!-- Importamos Tailwind CSS para el dise帽o r谩pido -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Colores personalizados de tu marca */
        .neon-text { color: #00E5FF; text-shadow: 0 0 10px rgba(0, 229, 255, 0.5); }
        .bg-dark { background-color: #121212; }
        .card-bg { background-color: #1E1E1E; }

        /* --- NUEVO EFECTO DE BRILLO (HOVER/ACTIVE) --- */
        .neon-hover {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid transparent; /* Borde invisible para evitar saltos */
        }

        /* Estado: Cursor encima (Hover) */
        .neon-hover:hover {
            border-color: #00E5FF;
            box-shadow: 0 0 20px rgba(0, 229, 255, 0.4), inset 0 0 10px rgba(0, 229, 255, 0.1);
            transform: translateY(-2px); /* Se levanta un poquito */
            z-index: 10;
        }

        /* Estado: Presionado (Active/Touch) */
        .neon-hover:active {
            border-color: #00E5FF;
            box-shadow: 0 0 30px rgba(0, 229, 255, 0.7);
            transform: scale(0.98); /* Efecto de "hundirse" al presionar */
        }
    </style>
</head>
<body class="bg-dark text-white font-sans pb-20">

    <!-- Encabezado -->
    <header class="p-5 flex justify-between items-center sticky top-0 bg-dark/95 backdrop-blur z-50 border-b border-gray-800">
        <h1 class="text-3xl font-bold neon-text">FlowBar</h1>
        <div class="text-sm text-gray-400">Mesa 5</div>
    </header>

    <!-- Filtros (Chips) - AHORA SON ENLACES DINMICOS CON MS CATEGORAS -->
    <div class="px-5 py-4 flex gap-3 overflow-x-auto no-scrollbar">
        
        <!-- Bot贸n TODOS -->
        <a href="{% url 'carta' %}" 
           class="px-5 py-1.5 rounded-full font-bold text-sm whitespace-nowrap border transition-colors
           {% if categoria_actual == 'todos' %}
               bg-[#00E5FF] text-black border-[#00E5FF]
           {% else %}
               bg-gray-800 text-gray-300 border-gray-700 hover:border-[#00E5FF] hover:text-[#00E5FF]
           {% endif %}">
           Todos
        </a>

        <!-- Bot贸n TRAGOS -->
        <a href="{% url 'cat_tragos' %}" 
           class="px-5 py-1.5 rounded-full font-bold text-sm whitespace-nowrap border transition-colors
           {% if categoria_actual == 'tragos' %}
               bg-[#00E5FF] text-black border-[#00E5FF]
           {% else %}
               bg-gray-800 text-gray-300 border-gray-700 hover:border-[#00E5FF] hover:text-[#00E5FF]
           {% endif %}">
           Tragos
        </a>

        <!-- Bot贸n CERVEZAS -->
        <a href="{% url 'cat_cervezas' %}" 
           class="px-5 py-1.5 rounded-full font-bold text-sm whitespace-nowrap border transition-colors
           {% if categoria_actual == 'cervezas' %}
               bg-[#00E5FF] text-black border-[#00E5FF]
           {% else %}
               bg-gray-800 text-gray-300 border-gray-700 hover:border-[#00E5FF] hover:text-[#00E5FF]
           {% endif %}">
           Cervezas
        </a>

        <!-- Bot贸n BOTELLAS -->
        <a href="{% url 'cat_botellas' %}" 
           class="px-5 py-1.5 rounded-full font-bold text-sm whitespace-nowrap border transition-colors
           {% if categoria_actual == 'botellas' %}
               bg-[#00E5FF] text-black border-[#00E5FF]
           {% else %}
               bg-gray-800 text-gray-300 border-gray-700 hover:border-[#00E5FF] hover:text-[#00E5FF]
           {% endif %}">
           Botellas
        </a>

        <!-- Bot贸n SIN ALCOHOL -->
        <a href="{% url 'cat_sinalcohol' %}" 
           class="px-5 py-1.5 rounded-full font-bold text-sm whitespace-nowrap border transition-colors
           {% if categoria_actual == 'sinalcohol' %}
               bg-[#00E5FF] text-black border-[#00E5FF]
           {% else %}
               bg-gray-800 text-gray-300 border-gray-700 hover:border-[#00E5FF] hover:text-[#00E5FF]
           {% endif %}">
           Sin Alcohol
        </a>

    </div>

    <!-- Grilla de Productos -->
    <main class="px-5 grid grid-cols-2 gap-4">
        
        {% for trago in tragos %}
        <!-- Tarjeta de Producto con efecto NEON-HOVER -->
        <div class="card-bg p-3 rounded-2xl flex flex-col justify-between relative overflow-hidden group neon-hover cursor-pointer">
            
            <!-- Placeholder Limpio (Sin Im谩genes) -->
            <div class="h-32 bg-gray-800 rounded-xl mb-3 flex items-center justify-center overflow-hidden relative group-hover:bg-gray-700 transition-colors duration-300">
                <span class="text-4xl group-hover:scale-125 transition-transform duration-300 transform"></span>
                <!-- Efecto de brillo sutil -->
                <div class="absolute inset-0 bg-gradient-to-t from-black/30 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
            </div>
            
            <div>
                <h3 class="font-bold text-lg leading-tight mb-1 text-white truncate group-hover:text-[#00E5FF] transition-colors">{{ trago.descripcion }}</h3>
                <p class="text-gray-400 text-xs mb-3 line-clamp-2">Bebida refrescante preparada al momento.</p>
                
                <div class="flex justify-between items-end">
                    <span class="text-xl font-bold neon-text">${{ trago.precio }}</span>
                    
                    <!-- Bot贸n Agregar (+) -->
                    <a href="{% url 'add_to_cart' trago.id_producto %}" class="w-8 h-8 rounded-full bg-[#00E5FF] text-black flex items-center justify-center font-bold hover:scale-110 transition-transform shadow-[0_0_10px_rgba(0,229,255,0.4)] relative z-20">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor" class="w-5 h-5">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
                        </svg>
                    </a>
                </div>
            </div>
        </div>
        {% endfor %}

    </main>

    <!-- Barra de Navegaci贸n Inferior -->
    <nav class="fixed bottom-0 w-full bg-black border-t border-gray-800 flex justify-around py-3 z-50 pb-6">
        <div class="flex flex-col items-center text-[#00E5FF]">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 drop-shadow-[0_0_5px_rgba(0,229,255,0.5)]">
                <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" />
            </svg>
            <span class="text-[10px] mt-1 font-medium">Carta</span>
        </div>
        
        <a href="{% url 'ver_carrito' %}" class="flex flex-col items-center text-gray-500 hover:text-[#00E5FF] transition-colors">
            <div class="relative">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 10.5V6a3.75 3.75 0 10-7.5 0v4.5m11.356-1.993l1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 01-1.12-1.243l1.264-12A1.125 1.125 0 015.513 7.5h12.974c.576 0 1.059.435 1.119 1.007zM8.625 10.5a.375.375 0 11-.75 0 .375.375 0 01.75 0zm7.5 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z" />
                </svg>
                {% if cart_count > 0 %}
                <span class="absolute -top-2 -right-2 bg-[#00E5FF] text-black text-[10px] font-bold w-4 h-4 rounded-full flex items-center justify-center shadow-[0_0_10px_rgba(0,229,255,0.6)]">
                    {{ cart_count }}
                </span>
                {% endif %}
            </div>
            <span class="text-[10px] mt-1 font-medium">Carrito</span>
        </a>
        
        <!-- Enlace Perfil ACTIVO -->
        <!-- Aqu铆 estaba el error: antes dec铆a href="#" -->
        <a href="{% url 'perfil' %}" class="flex flex-col items-center text-gray-500 hover:text-[#00E5FF] transition-colors">
             <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z" />
            </svg>
            <span class="text-[10px] mt-1 font-medium">Perfil</span>
        </a>
    </nav>

</body>
</html>